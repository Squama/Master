<?xml version="1.0" encoding="UTF-8"?>
<queryContext xmlns="http://www.example.org/query" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.example.org/query query.xsd">
   <!-- 预算表导入 --> 
    <query id="budget_import_list" key="id" tableName="单位工程（概）预算表" className="com.radish.master.entity.BudgetImport" widthType="px" pageSize="2000">
        <column key="rowIndex" header="序号" width="80"/>
        <column key="id" hidden="true" header="id" width="80"/>
        <column key="quotaNo" header="定额编号" width="150"/>
        <column key="quotaName" header="子目名称" width="150"/>
        <column key="units" header="单位" width="150"/>
        <column key="quantities" header="工程量" width="150"/>
        <column key="price" header="单价" width="150"/>
        <column key="unitPrice" header="合价" width="150"/>
        <column key="artificiality" header="合价（人工）" width="150"/>
        <column key="materiels" header="合价（材料）" width="150"/>
        <column key="mech" header="合价（机械）" width="150"/>
        <column key="materielsUnitPrice" header="主材合价" width="150"/>
        <column key="quotaGroup" hidden="true" header="分组" width="80"/>
    </query>
    <!-- 成本测算 -->
    <query id="budget_estimate_list" key="budgetNo" tableName="待成本测算列表" className="com.radish.master.entity.Budget" widthType="px">
        <column key="rowIndex" header="序号" width="80"/>
        <column key="budgetNo" header="预算编码" allowSort="true" width="150"/>
        <column key="budgetName" header="预算名称" classType="String" allowSort="true" width="150"/>
        <column key="projectID" header="所属项目" classType="String" allowSort="true" width="150" fnRender="fnRenderProject"/>
        <column key="status" header="预算状态" allowSort="true" width="150" render="10=新建,20=测算已提交,30=测算已完成"/>
        <column key="budgetNo" header="操作" width="80" fnRender="fnRenderOperate"/>
    </query>
    
    <query id="budget_estimate_left_list" key="id" tableName="预算表" className="com.radish.master.entity.BudgetImport" widthType="px" pageSize="2000" order="quotaGroup asc,orderNo desc">
        <column key="id" header="选择" width="10" fnRender="fnRenderCheckbox"/>
        <column key="quotaNo" header="定额编号" width="120"/>
        <column key="quotaName" header="子目名称" width="150" enableTooltip="true" maxLen="8"/>
        <column key="units" header="单位" width="100"/>
        <column key="quantities" header="工程量" width="100"/>
        <column key="price" header="单价" width="100"/>
        <column key="unitPrice" header="合价" width="150"/>
        <column key="artificiality" header="合价（人工）" width="150"/>
        <column key="materiels" header="合价（材料）" width="150"/>
        <column key="mech" header="合价（机械）" width="150"/>
        <column key="materielsUnitPrice" header="主材合价" width="150"/>
        <column key="quotaGroup" hidden="true" header="分组" width="80"/>
        <column key="orderNo" hidden="true" header="拆分合并标志" width="80"/>
        <column key="col" hidden="true" header="行高" width="80"/>
    </query>
    
    <query id="budget_estimate_right_list" key="id" tableName="成本测算表" className="com.radish.master.entity.BudgetTx" widthType="px" pageSize="2000" order="quotaGroup asc,orderNo desc">
        <column key="rowIndex" header="序号" width="80"/>
        <column key="regionCode" header="定额编号" width="120"/>
        <column key="regionName" header="子目名称" width="150" enableTooltip="true" maxLen="8"/>
        <column key="units" header="单位" width="100"/>
        <column key="quantities" header="工程量" width="100"/>
        <column key="price" header="单价" width="100"/>
        <column key="unitPrice" header="合价" width="150"/>
        <column key="artificiality" header="合价（人工）" width="150"/>
        <column key="materiels" header="合价（材料）" width="150"/>
        <column key="mech" header="合价（机械）" width="150"/>
        <column key="materielsUnitPrice" header="主材合价" width="150"/>
        <column key="quotaGroup" hidden="true" header="分组" width="80"/>
        <column key="orderNo" hidden="true" header="拆分合并标志" width="80"/>
        <column key="col" hidden="true" header="行高" width="80"/>
        <column key="id" header="id" hidden="true"/>
    </query>
    
    <query id="budget_tx_estimate_list" key="id" tableName="成本测算明细" widthType="px">
            <sql>
                <![CDATA[
                  SELECT be.id id,bt.region_name quotaName,p.project_name projectName,
				  b.budget_name budgetName,be.mat_number matNumber,be.mat_name matName,
				  be.mat_standard matStandard,be.unit unit,be.quantity quantity
				  FROM tbl_project p,tbl_budget b,tbl_budget_tx bt,tbl_budget_estimate be
				  WHERE p.id = b.project_id AND b.budget_no = bt.budget_no AND bt.id = be.budget_tx_id
				  AND 1=1
                ]]>
            </sql>
            <column key="id" header="id" hidden="true"/>
            <column key="rowIndex" header="序号"/>
            <column key="quotaName" header="子目名称"/>
            <column key="projectName" header="所属项目"/>
            <column key="budgetName" header="所属预算"/>
            <column key="matNumber" header="物料编号"/>
            <column key="matName" header="物料名" />
            <column key="matStandard" header="规格" />
            <column key="unit" header="单位"/>
            <column key="quantity" header="数量"/>
            <column key="id" header="删除" fnRender="fnRenderDelete"/>
    </query>
    
    <!-- 数量消耗列表 -->
    <query id="budget_quantity_list" key="id" tableName="数量超限" widthType="px" service="budgetService" method="getQuantityAuditList"
           simpleSearch="false" className="com.radish.master.entity.PurchaseApplyAudit">
        <column key="id" header="编号" hidden="true"/>
        <column key="rowIndex" header="序号" width="70"/>
        <column key="budget_no" header="no" hidden="true"/>
        <column key="region_name" header="部位" align="left" width="100"/>
        <column key="mat_number" header="物料编码"  width="100"/>
        <column key="mat_name" header="物料名称" width="100"/>
        <column key="mat_standard" header="物料规格" width="100"/>
        <column key="budget" header="预算量" align="right" width="100"/>
        <column key="cost" header="已消耗" align="right" width="100"/>
        <column key="apply" header="本次申请" align="right" width="100"/>
    </query>
    
    <!-- 金额消耗列表 -->
    <query id="budget_amount_list" key="id" tableName="金额超限" widthType="px" service="budgetService" method="getAmountAuditList"
           simpleSearch="false" className="com.radish.master.entity.PurchaseApplyAudit">
        <column key="id" header="编号" hidden="true"/>
        <column key="rowIndex" header="序号" width="70"/>
        <column key="budget_no" header="no" hidden="true"/>
        <column key="region_name" header="部位" align="left" width="100"/>
        <column key="budget" header="预算量" align="right" width="100"/>
        <column key="cost" header="已消耗" align="right" width="100"/>
        <column key="apply" header="本次申请" align="right" width="100"/>
    </query>
    
    <!-- 原预算表 -->
    <query id="budget_list" key="budgetNo" tableName="成本预算列表" className="com.radish.master.entity.Budget" widthType="px">
        <column key="rowIndex" header="序号" width="80"/>
        <column key="budgetNo" header="预算编码" allowSort="true" width="150"/>
        <column key="budgetName" header="预算名称" classType="String" allowSort="true" width="150"/>
        <column key="projectID" header="所属项目" classType="String" allowSort="true" width="150" fnRender="fnRenderProject"/>
        <column key="status" header="预算状态" allowSort="true" width="150" render="10=新建,20=测算已提交,30=测算已完成"/>
        <column key="operator" header="消耗情况" classType="String" width="150" fnRender="fnRenderConsume"/>
    </query>
    
    <query id="budget_list_query" key="budgetNo" tableName="成本预算列表" className="com.radish.master.entity.Budget" widthType="px">
        <column key="rowIndex" header="序号" width="80"/>
        <column key="budgetNo" header="预算编码" allowSort="true" width="150"/>
        <column key="budgetName" header="预算名称" classType="String" allowSort="true" width="150"/>
        <column key="projectID" header="所属项目" classType="String" allowSort="true" width="150" fnRender="fnRenderProject"/>
        <column key="status" header="预算状态" allowSort="true" width="150" render="10=新建,20=测算已提交,30=测算已完成"/>
        <column key="budgetNo" header="查看预算" width="80" fnRender="fnRenderDetail"/>
    </query>
    
    <query id="budget_tx_list_edit" key="id" tableName="成本预算明细" className="com.radish.master.entity.BudgetTx" widthType="px" pageSize="20">
        <column key="rowIndex" header="序号" width="80"/>
        <column key="budgetNo" header="所属预算" classType="String" width="150"/>
        <column key="regionID" header="部位" classType="String" width="150"/>
        <column key="matNumber" header="物料" classType="String" width="150"/>
        <column key="matStandard" header="物料规格" classType="String" width="150"/>
        <column key="unit" header="单位" classType="String" width="150"/>
        <column key="quantity" header="数量" classType="String" width="150"/>
        <column key="id" header="删除" width="80" fnRender="fnRenderDelete"/>
    </query>
    
    <query id="budget_tx_list_detail" key="id" tableName="成本预算明细" className="com.radish.master.entity.BudgetTx" widthType="px" pageSize="20">
        <column key="rowIndex" header="序号" width="80"/>
        <column key="budgetNo" header="所属预算" classType="String" width="150"/>
        <column key="regionID" header="部位" classType="String" width="150"/>
        <column key="matNumber" header="物料" classType="String" width="150"/>
        <column key="matStandard" header="物料规格" classType="String" width="150"/>
        <column key="unit" header="单位" classType="String" width="150"/>
        <column key="quantity" header="数量" classType="String" width="150"/>
    </query>
    
    <query id="budget_tx_list_channel" key="id" tableName="成本预算明细" className="com.radish.master.entity.BudgetTx" widthType="px">
        <column key="rowIndex" header="序号" width="80"/>
        <column key="budgetNo" header="所属预算" classType="String" width="150"/>
        <column key="regionID" header="部位" classType="String" width="150"/>
        <column key="matNumber" header="物料" classType="String" width="150"/>
        <column key="matStandard" header="物料规格" classType="String" width="150"/>
        <column key="unit" header="单位" classType="String" width="150"/>
        <column key="quantity" header="数量" classType="String" width="150"/>
        <column key="supplier" header="供应商" classType="String" width="100" fnRender="fnRenderChannel"/>
        <column key="price" header="价格" classType="String" width="150"/>
    </query>
    
    <query id="budget_tx_channel_list" key="id" tableName="选择物料渠道" className="com.radish.master.entity.Channel" widthType="px">
        <column key="rowIndex" header="序号" width="80"/>
        <column key="id" header="编号" hidden="true"/>
        <column key="mat_name" header="物料名称" classType="String" width="150"/>
        <column key="supplier" header="供应商" classType="String" width="150"/>
        <column key="price" header="价格" classType="String" width="150"/>
        <column key="supplier" header="选择供应商" classType="String" width="100" fnRender="fnRenderChoose"/>
    </query>
    
</queryContext>